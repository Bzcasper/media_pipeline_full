[
  {
    "timestamp": "2025-11-18T20:28:17.666Z",
    "level": "info",
    "message": "Starting pipeline orchestration",
    "data": {
      "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
      "input": {
        "audioFileId": "audio_48d6cfe0-5258-4a59-bf24-08eba7a068fd",
        "title": "Test Song 2",
        "artist": "Test Artist"
      }
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:17.673Z",
    "level": "info",
    "message": "=== Step 1: Transcription ===",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:17.673Z",
    "level": "info",
    "message": "Transcription attempt 1/2",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:17.673Z",
    "level": "info",
    "message": "Starting transcription",
    "data": {
      "input": {
        "audioFileId": "audio_48d6cfe0-5258-4a59-bf24-08eba7a068fd"
      }
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:17.674Z",
    "level": "info",
    "message": "Attempting transcription with Riva ASR",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:17.674Z",
    "level": "info",
    "message": "Downloading audio file from media server",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:18.546Z",
    "level": "warn",
    "message": "Riva transcription failed, falling back to Whisper",
    "data": {
      "error": "HTTP 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"audio_file\"],\"msg\":\"Field required\",\"input\":null}]}"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:18.546Z",
    "level": "info",
    "message": "Attempting transcription with Whisper (Modal)",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:18.547Z",
    "level": "error",
    "message": "Both Riva and Whisper transcription failed",
    "data": {
      "rivaError": "HTTP 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"audio_file\"],\"msg\":\"Field required\",\"input\":null}]}",
      "whisperError": "MODAL_JOB_URL environment variable is not set"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:18.547Z",
    "level": "warn",
    "message": "Transcription attempt 1 failed",
    "data": {
      "error": "Transcription failed: Both Riva and Whisper methods failed"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:18.547Z",
    "level": "info",
    "message": "Retrying in 1000ms...",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.547Z",
    "level": "info",
    "message": "Transcription attempt 2/2",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.547Z",
    "level": "info",
    "message": "Starting transcription",
    "data": {
      "input": {
        "audioFileId": "audio_48d6cfe0-5258-4a59-bf24-08eba7a068fd"
      }
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.547Z",
    "level": "info",
    "message": "Attempting transcription with Riva ASR",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.548Z",
    "level": "info",
    "message": "Downloading audio file from media server",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.955Z",
    "level": "warn",
    "message": "Riva transcription failed, falling back to Whisper",
    "data": {
      "error": "HTTP 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"audio_file\"],\"msg\":\"Field required\",\"input\":null}]}"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.955Z",
    "level": "info",
    "message": "Attempting transcription with Whisper (Modal)",
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.955Z",
    "level": "error",
    "message": "Both Riva and Whisper transcription failed",
    "data": {
      "rivaError": "HTTP 422: {\"detail\":[{\"type\":\"missing\",\"loc\":[\"body\",\"audio_file\"],\"msg\":\"Field required\",\"input\":null}]}",
      "whisperError": "MODAL_JOB_URL environment variable is not set"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.955Z",
    "level": "warn",
    "message": "Transcription attempt 2 failed",
    "data": {
      "error": "Transcription failed: Both Riva and Whisper methods failed"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  },
  {
    "timestamp": "2025-11-18T20:28:19.955Z",
    "level": "error",
    "message": "Pipeline failed",
    "data": {
      "error": "Transcription failed: Both Riva and Whisper methods failed",
      "stack": "Error: Transcription failed: Both Riva and Whisper methods failed\n    at TranscriptionSkill.run (webpack-internal:///(rsc)/../agent/src/skills/transcription.ts:70:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)\n    at async TranscriptionSkill.runWithRetry (webpack-internal:///(rsc)/../agent/src/skills/transcription.ts:163:24)\n    at async PipelineOrchestrator.run (webpack-internal:///(rsc)/../agent/src/orchestrator.ts:43:41)"
    },
    "jobId": "1f022ffe-bbcd-411b-82e9-2cb0951ae1d3",
    "source": "logger"
  }
]